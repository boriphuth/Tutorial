# Building a Web App with ASP.NET Core, MVC 6, EF Core, and Angular

## TOC

## Intro

<table>
  <tr>
    <td colspan="2">
      <img src="https://6ebaoa.by3302.livefilestore.com/y3mbc7XYRW0pYXbS3mKlUUxgGO2s121EBJwx7KzgUeOv4oOPTD7SBEP6Rmmrv07ZPm-sflblPse3dvuTVOBYhE7lwEfEw01JDxCVEhS2pftkhReBkQBxmclM4r-1zcLBnYM6Prn5gJjWwwvmPNUSJoE9casyiSNFDJE4nMw3gw_y20?width=490&height=287&cropmode=none" alt="1" />
    </td>
  </tr>
  <tr>
    <td>
    <img src="https://fpnjua.by3302.livefilestore.com/y3mKi3tB9cR_VhT8u70fc1Cry9u3ZDNZa9I6x78R5ThTSfRd-9s-z1o79XWkGSoKoUP80yJ0VS-_UHdXoM9S3pubHfn-t2rVH55oR8lGwsQQrqPX8vBuWNifOnamF-b8mRUYxwg60ZeHPL-8YZFdoZr5uDnhngJiZ49mQl7-ILHsVY?width=364&height=280&cropmode=none" alt="2" />
    </td>
    <td>
    <img src="https://slclww.by3302.livefilestore.com/y3mXUoEFTWhhF27mk3OFfnr-w9BgW9ydGhphPz6V8XBoRaMsoDuKQla8MsPF69g2YKCN47OIJfkflRfO92KDT8WvudrTsafe1sIo_JUmV1Q5XpwRajxrPpaCrahuqxSiweZbbEkLEFYcJCwFKKhFA5BFvoIZkrFbaFHZoinEi2cdnU?width=314&height=282&cropmode=none" alt="3" />
    </td>
  </tr>
</table>

## ASP.NET Core

<table>
  <tr>
    <td colspan="2">
      <img src="https://g7ubqw.by3302.livefilestore.com/y3m_mJShBdpgbvSHZCazYWNveR_CVTkhyolPusSYOB1bA034XA54sIVPQJqp0I1XqPAR5SfCUV0OvF0LKx_Fsobj-7B0O3_hMMQd4JQQnlyMG3yoEz0tqj6HmCdXEUQe33GIclMGLIAEwf0HIrWPCxetIH-Wczrv1vCj38tArNMcLs?width=669&height=360&cropmode=none" alt="1" />
    </td>
    <td colspan="2">
      <img src="https://hiqp5q.by3302.livefilestore.com/y3myUpNQ2rfkSjM65Ti8a2v2gj-3qe76eDHaO_BTCyvgCUki89f6QWubGQbnZWuz2gTfYERg4mNCmVLjURMWv6HEerg8yDaTrnZzgvK_e6FeVa5otRbkMSaQ-ilMMoT5_Vdqu8ZYRUEBaSNvmZtunBUeR5FK36Ea01x88L3rOjV9kM?width=539&height=371&cropmode=none" alt="2" />
    </td>
  </tr>
  <tr>
    <td colspan="2">
      <img src="https://jxhueg.by3302.livefilestore.com/y3mATGvX7RSE_spEElHWWgo6rnGH_kT5OQeTcGNPUaWBVIFMXCFkYVwgvGV3n5XdU-Fe25AYQO10Np-n955BFfOgHezXuhfbeOsy-fu1i6eUDceksm4SK3qFLrZd763oIC8R4JfcDVGv26aLyz6zZGzspwVpl93EeIq8oIkurEshwQ?width=661&height=264&cropmode=none" alt="3" />
    </td>
    <td colspan="2">
      <img src="https://wowvtq.by3302.livefilestore.com/y3mC721cet5sjCqyDjvmKxO8rDzsjQJnLOT4HVg1LT-Dj8OvLuoxU5aHVWyKxvZ6f2liPwEXZE40Bkd83N8RHJ6qpqaqdcMi4NWvnZolnBZIn29VkFIjaJqD17ATVxIKj4H6h7Hea-MX8A6CLUm1zqyeUQVLr4WG55KdzCsrNVTJAk?width=639&height=341&cropmode=none" alt="4" />
    </td>
  </tr>
  <tr>
    <td colspan="4">
      <img src="https://tcyvqq.by3302.livefilestore.com/y3mgVk7kAGI6FjFxLqcN279AR83dnKYEw2_5JZdkj82iqiUBW-1b8TqUKc8WR8gfdSA_RTghc8Mag-o8CMKSjMxWOwTqio5bfx_gvlL7ENAujfj4u3HHmDAqh5yNi1AezgIPR6wlJXhVbZntyznNzS7yYdRBTld7cWmFog7UgbYxjo?width=637&height=377&cropmode=none" alt="5" />
    </td>    
  </tr>
  <tr>
    <td colspan="4">
      <img src="https://6ebxoa.by3302.livefilestore.com/y3mTaHDPP9TjX288dohTvJZ9adf09kMOEN9mypVfJrNQotnZH2sNBPSZmtt92ZbsJaMMweeev37lwaAwMNr5OkQAr8EsSTYo7bL5O_qMX0Mv-1tzB76qAWivWkF9zPFqThHtTT1VazudsWn-fgddZQPL2Tq-jDvZ_ksN5ZdkA4B92Y?width=960&height=414&cropmode=none" alt="6" />
    </td>
  </tr>
  <tr>
    <td colspan="3" >
      <img src="https://fpngua.by3302.livefilestore.com/y3mhRs7yoqpBlW7yhLAj0d2apCmXBi54zSgylhiwfOXzRTZCyZwN57ERvKmXyeKPnTKS6jt-zLjpw87xe_G8NkVtUUSeL05ENbB8ZS-KOpo6U02ZWuRjnO6g92_8LYyTTZ2PYHcYnoQHCCiMnNNv2xnDLk0ZCQTlbyvRwL6wIo2jhs?width=440&height=414&cropmode=none" alt="7" />
    </td>    
    <td rowspan="2">
      <img src="https://uz5nia.by3302.livefilestore.com/y3mIa4uXH2tM0bF3Fc2VCbqOMEIy1XT8StM0aZZxIcGIvXr3DIZ0h2c33UQx8j-Q7kQ6M4jn6wuboyXhlNoaW_qj4lCLpAQ20OUfzHBBsWdbHOdLL9qpSEm55tJdnm6LA7hY-iUzKK4Toh-fDO1HcIeMHrHAk9Cd8I5FeFDutPtNF8?width=161&height=365&cropmode=none" alt="9" />
    </td>
  </tr>
  <tr>
    <td colspan="3">
      <img src="https://slciww.by3302.livefilestore.com/y3myljA9gw9YGeNKME513PQSH4anG9tfSEOWd1qFyNo4bjiD74S_pfAPjCwFrSA5CPLl_Ue17bcyBc9F19aa5qMJb3XBSkM5tokkP7nIbVMmTkWleVqAOEkB8Tpth0KfcpX8ncPVdcVksiRdwXVSJfMVd9CLE38vsPiE56aC_h4u4s?width=440&height=109&cropmode=none" alt="8" />
    </td>
  </tr>
</table>

For yeoman, node and npm must be installed, nodejs.org. The command line VS code hello world app has .xproj extension for the project.

```cmd
 code . 
 node -- version 
 npm -- version 
 npm install yo -g
 yo
 cls
 npm install generator-* (aspnet) -g
 yo aspnet
```

new project options
- 452 -> web -> asp.net core web app (.net core) 
- 452 -> web -> asp.net web app (.net fwk) 
- 452 -> .net core -> asp.net core web app (.net core)

## HTML and CSS Basics

![](https://uz5qia.by3302.livefilestore.com/y3mUV4VSA2B8vDntS_hAwdc4g-UFT5LFic4KkwfGip83DYtdzxHrvRk30etvQU8buYkOIS7oI3V3-etYp_01181vqBYGTHYL4KYXboOpFFqikFHwaSw3KTdy7zEDRHSLtbLA2m35YT2eiGQiFRbQQASzJMRGAuMnYOt5Wk7dpVQ-KM?width=408&height=172&cropmode=none)

Start Without Debugging - *ctrl + f5*. create new file - *shift + f2*. Content below named middleware. 

```cs
    public void Configure (IApplicationBuilder app) {
        app.Run ( async (ctx) => { await ctx.Response.WriteAsync ("some html"); }); 
    } 
```

Move static html to **www root** folder, similar to the way that Node and Ruby and Rails and even JSP Pages handles it. In ASP.NET Core, _every feature_ of the web server is **optional**. 
This piece of middleware is called `app.UseDefaultFiles()`. This will add some standard default files so that when looking in a directory, and that includes the root folder of your project, that it's going to automatically look for an index.html. 
Package `Microsoft.AspNetCore.StaticFiles` must be added.

![](https://vbp4kg.by3302.livefilestore.com/y3mLO9GLQ-A5sRP0_dnJbYC69_euaHpfqZUQHJCfM2GyY1z3dXsEOD7D6sWuL_-PxWodBvILgLPIeTKUh3H6dSI4XgdovvQkxJj6xsWf4A72xbkkrK7uNrPzw1dwfk1yE_L0_FrExXGKc_QHu154iI9zmXLfcildPn1LLHO7dpDWCY?width=937&height=234&cropmode=none)

[Web Essentials 2013](http://vswebessentials.com/) has a Surround with tag... feature (**Alt+Shift+W**) that is more fluid than the built-in Surround with.

overriding input buttons, default is text `input[type=submit] {width: auto;}`

overriding input tags `input[type=text], input[type=password], textarea {width: 150px;}`

by default a label is inline, this will move to the row below `label {display: block;}`

images inside sidebar div `#sidebar img {max-width: 50px;}`, 
instead provide a class for the small images `.headshot {max-width: 50px;}`

active list items under menu are bold `.menu li {list-style-type: none;} .menu li.active {font-weight: bold;}`

**the box model**
![](https://g7xpqg.by3302.livefilestore.com/y3mOEee-RY1i694_H7jb3vb-ErefywwjesKLjsz7w5TpwIA5bMJDNhhNsYXqA3IryvNaJ40UT73Wl8fEkVukICowLAIpx2W8tvg8qjA_yYnxN2aAbsS5e-B2SLax8E-MOjSqQarjrafF9nfj2NYgkTskCdTYnQcPUE3fmwZIi92Jag?width=612&height=347&cropmode=none)

create a sidebar and a wrapper div over main and footer
```css
    #sidebar {margin: 0; position: fixed; overflow: hidden; height:100%; width: 200px; left:0;}
    #wrapper {margin: 0 0 0 200px;}
    #footer {bottom: 0; width: 100%;}
```

## JavaScript

- The client side language for web apps
- object oriented
- prototypical inheritance instead of classes
- dynamically typed
- just in time compiled without an intermediate format, like MSIL or Bytecode
- older browsers have an interpreter instead of JIT
- place scripts before the end of the body tag, executes as html is parsed

events / anonymous function / callback 
```js
    var main = document.getElementById("main");
    main.onmouseenter = function () { main.style.backgroundcolor = "#ddd"; };
    main.onmouseleave = function () { main.style.backgroundcolor = ""; main.style = "background: #eee"; };
```

**global scope**, as files are loaded they may overwrite variables, avoid name collisions. 
Either use very specific names, or use function private scope. 
The function name though may be leaking other function names, **immediately executing nameless function**.  `(function(){})();`

**Bower** is for js what NuGet is for cs, client side package management. 
Add _Bower configuration file_, dependencies download to a lib folder in wwroot. .bowerrc is the config options for bower. 

JQuery handles the cross-browser compatibility issues.
`<script type="text/javascript" src="lib/jquery/dist/jquery.min.js"></script>`
```js
    $('#username').text("was innerHtml or InnerHTML");
    $(#main).on("mouseenter", function() {main.style = ""} );
    var menuItems = $("ul.menu li a");
    menuItems.on("click", function(){ alert($(this).text()); });
```

div, sidebar toggle visibility button, wrapped set of DOM elements
```js
    var hscn = "hide-sidebar";
    $("#sidebar-toggle").on("click", function () {
        var sw = $("#sidebar,#wrapper");        
        sw.toggleClass(hscn);
        if (sw.hasClass(hscn)) {
            $(this).text("show sidebar");
        } else {
            $(this).text("hide sidebar");            
        }
    });
```    

On the css side `#sidebar.hide-sidebar {left: -250px;}` downside is tracking const values, 
and `#wrapper.hide-sidebar {margin-left: 0;}`. Can add a `transition: left ease .25s;` and `transition: margin-left ease .25s;`. 
Also add vendor specifics. 


